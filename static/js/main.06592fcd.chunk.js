(this.webpackJsonpyahtzee=this.webpackJsonpyahtzee||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(11),c=n.n(a),l=(n(17),n(18),n(7)),o=n(12),i=n(9),u=n(2),d=n(3),h=n(5),m=n(4),f=(n(19),n(20),n(0)),p=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(){e.props.lock(e.props.indx)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.val,n=e.isLocked,r=e.isRolling,s=e.rotation,a="Dice ".concat(n&&"Dice--locked"," ").concat(r&&!n&&"rotate");return Object(f.jsxs)("div",{className:a,style:{transform:"rotate(".concat(s,")")},onClick:this.props.lock?this.handleClick:null,children:[Object(f.jsx)("span",{className:"Dot top left",hidden:2!==t&&3!==t&&4!==t&&5!==t&&6!==t}),Object(f.jsx)("span",{className:"Dot top center",hidden:6!==t}),Object(f.jsx)("span",{className:"Dot top right",hidden:4!==t&&5!==t&&6!==t}),Object(f.jsx)("span",{className:"Dot center-center",hidden:1!==t&&3!==t&&5!==t}),Object(f.jsx)("span",{className:"Dot bottom left",hidden:4!==t&&5!==t&&6!==t}),Object(f.jsx)("span",{className:"Dot bottom center",hidden:6!==t}),Object(f.jsx)("span",{className:"Dot bottom right",hidden:2!==t&&3!==t&&4!==t&&5!==t&&6!==t})]})}}]),n}(r.Component),j=(n(22),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(){e.props.isDisabled||e.props.updateScore(e.props.rule)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.rule,t=e.name,n=e.score,r=e.description,s=this.props.isDisabled;return Object(f.jsxs)("li",{className:"Rule ".concat(s&&"Rule--disabled"),onClick:this.handleClick,children:[Object(f.jsxs)("span",{className:"Rule__name ".concat(null!==n&&"Rule--crossed"),children:[" ",t," "]}),Object(f.jsxs)("span",{className:"Rule__info",children:[" ",null===n?r:n," "]})]})}}]),n}(r.Component)),b=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={dices:Array(e.props.nOfDices).fill(1),locked:Array(e.props.nOfDices).fill(!1),rotation:Array(e.props.nOfDices).fill(0),rollsRemaining:3,isRolling:!1,rules:e.props.rules.map((function(e){return Object(i.a)({},e)})),score:0,bestScore:window.localStorage.getItem("bestScore")||"0",allScore:0},e.roll=function(){var t=e.state,n=t.dices,r=t.locked,s=t.rotation,a=t.rollsRemaining,c=n.map((function(t,n){return r[n]?t:e.getRandDiceNum()})),l=s.map((function(t,n){return r[n]?t:e.getRandRotation()}));e.setState({dices:c,rotation:l,isRolling:!0,rollsRemaining:a-1}),setTimeout((function(){return e.setState({isRolling:!1})}),500)},e.lock=function(t){var n=Object(o.a)(e.state.locked);n[t]=!n[t],e.setState({locked:n})},e.getBtnTxt=function(){var t=e.state,n=t.isRolling,r=t.rollsRemaining,s=t.rules;if(e.isGameOver(s))return"Game over";if(n&&r>=2)return"Starting round...";if(n)return"Rolling...";return["0 Rolls Remaining","1 Roll Remaining","2 Rolls Remaining"][r]},e.updateScore=function(t){var n=e.state.rules.map((function(e){return Object(i.a)({},e)})),r=n.find((function(e){return e.name===t.name}));r.score=r.calc(e.state.dices);var s=e.state.locked.map((function(e){return!1})),a=e.sumScores(n);e.setState({rules:n,locked:s,rollsRemaining:3,score:a},e.roll)},e.renderRules=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.rules.length,r=[],s=t;s<n;s++){var a=null!==e.state.rules[s].score;r.push(Object(f.jsx)(j,{rule:e.state.rules[s],isDisabled:a,updateScore:e.updateScore},s))}return r},e.reset=function(){var t=e.state,n=t.score,r=t.bestScore,s=t.allScore,a=e.getBestScore(n,r),c=e.getAllScore(n,s);e.setState({dices:Array(e.props.nOfDices).fill(1),locked:Array(e.props.nOfDices).fill(!1),rotation:Array(e.props.nOfDices).fill(0),rollsRemaining:3,isRolling:!1,rules:e.props.rules.map((function(e){return Object(i.a)({},e)})),score:0,bestScore:a,allScore:c},e.roll)},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.roll()}},{key:"getRandRotation",value:function(){return Math.random()*(Math.random()<.5?-10:10)}},{key:"getRandDiceNum",value:function(){return Math.floor(6*Math.random())+1}},{key:"sumScores",value:function(e){return e.reduce((function(e,t){return e+(t.score?t.score:0)}),0)}},{key:"getAllScore",value:function(e){var t=e;null===localStorage.getItem("allScore")&&localStorage.setItem("allScore","[]");var n=JSON.parse(localStorage.getItem("allScore"));n.push(t),localStorage.setItem("allScore",JSON.stringify(n))}},{key:"getBestScore",value:function(e,t){return e>t?(window.localStorage.setItem("bestScore",e),e):t}},{key:"isGameOver",value:function(e){var t,n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){if(null===t.value.score)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}},{key:"render",value:function(){var e=this,t=this.state,n=t.dices,r=t.isRolling,s=t.rollsRemaining,a=t.locked,c=t.rotation,l=t.rules,o=t.score,i=t.bestScore,u=this.isGameOver(l);return Object(f.jsxs)("div",{className:"Game",children:[Object(f.jsxs)("p",{className:"Game__best-score",children:["Highset score: ",i]}),Object(f.jsx)("div",{children:!!u&&Object(f.jsx)("button",{className:"Game__reset-btn ".concat(u&&"Game__reset-btn--active"),onClick:this.reset,children:"Start New Game"})}),Object(f.jsxs)("header",{className:"Game__header",children:[Object(f.jsx)("h1",{className:"Game__title",children:" Yahtzee! "}),Object(f.jsx)("div",{className:"Game__dices",children:n.map((function(t,n){return Object(f.jsx)(p,{indx:n,val:t,isLocked:!(!a[n]&&!u),isRolling:r,rotation:"".concat(c[n],"deg"),lock:!u&&e.lock},n)}))}),Object(f.jsx)("button",{className:"Game__btn",disabled:u||r||s<1,onClick:this.roll,children:this.getBtnTxt()})]}),Object(f.jsxs)("main",{className:"Game__scores",children:[Object(f.jsxs)("article",{className:"Game__scores-box",children:[Object(f.jsx)("h2",{className:"Game__scores-header",children:"Upper"}),Object(f.jsx)("ul",{className:"Game__scores-list",children:this.renderRules(0,6)})]}),Object(f.jsxs)("article",{className:"Game__scores-box",children:[Object(f.jsx)("h2",{className:"Game__scores-header",children:"Lower"}),Object(f.jsx)("ul",{className:"Game__scores-list",children:this.renderRules(6)})]}),Object(f.jsx)("article",{className:"Game__scores-box",children:Object(f.jsxs)("h2",{className:"Game__scores-header",children:["Total: ",o]})})]})]})}}]),n}(r.Component),O=function(){function e(t,n,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(u.a)(this,e),this.frequencyCounter=function(e){var t={};return e.forEach((function(e){return t[e]=(t[e]||0)+1})),t},this.sumFrequency=function(e,t){for(var n in e)if(e[n]>=t)return parseInt(n)*t;return null},this.name=t,this.description=n,this.defaultVal=s,this.calc=this[r],this.score=null}return Object(d.a)(e,[{key:"sumSame",value:function(e){var t=this;return e.filter((function(e){return e===t.defaultVal})).length*this.defaultVal}},{key:"sumAll",value:function(e){return e.reduce((function(e,t){return e+t}),0)}},{key:"yahtzee",value:function(e){var t,n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){if(t.value!==e[0])return 0}}catch(r){n.e(r)}finally{n.f()}return 50}},{key:"threeOfKind",value:function(e){var t=this.frequencyCounter(e);return this.sumFrequency(t,3)||0}},{key:"fourOfKind",value:function(e){var t=this.frequencyCounter(e);return this.sumFrequency(t,4)||0}},{key:"fullHouse",value:function(e){var t=this.frequencyCounter(e),n=Object.values(t);return 2===n.length&&n.includes(2)&&n.includes(3)?25:0}},{key:"smStraight",value:function(e){var t=new Set(e);return t.size>3&&(t.has(1,2,3,4)||t.has(2,3,4,5)||t.has(3,4,5,6))?30:0}},{key:"lgStraight",value:function(e){return 5===new Set(e).size?40:0}}]),e}(),v=[new O("Ones","1 point per 1","sumSame",1),new O("Twos","2 poins per 2","sumSame",2),new O("Threes","3 points per 3","sumSame",3),new O("Fours","4 points per 4","sumSame",4),new O("Fives","5 points per 5","sumSame",5),new O("Sixes","6 points per 6","sumSame",6),new O("Three of Kind","Sum 3 of a kind","threeOfKind"),new O("Four of Kind","Sum 4 of a kind","fourOfKind"),new O("Full House","25 points","fullHouse"),new O("Small Straight","30 points","smStraight"),new O("Large Straight","40 points","lgStraight"),new O("Yahtzee","50 points","yahtzee"),new O("Chance","Sum all dices","sumAll")];var g=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(b,{nOfDices:5,rules:v})})};n(23);c.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.06592fcd.chunk.js.map